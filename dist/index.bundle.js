"use strict";(self.webpackChunkwebpack_setup=self.webpackChunkwebpack_setup||[]).push([[826],{426:(n,e,t)=>{t.d(e,{Z:()=>s});var r=t(81),o=t.n(r),i=t(645),a=t.n(i)()(o());a.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400;600;700;900&display=swap);"]),a.push([n.id,"\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n  list-style: none;\r\n  text-decoration: none;\r\n}\r\n\r\nbody {\r\n  font-family: 'Source Sans Pro', sans-serif;\r\n  position: relative;\r\n}\r\n\r\nheader {\r\n  width: 100%;\r\n  background: #01acf6;\r\n  margin-bottom: 20px;\r\n  box-shadow: 0 0 2rem black;\r\n  padding: 2% 0;\r\n}\r\n\r\nheader .container {\r\n  width: 90%;\r\n  margin: auto;\r\n}\r\n\r\n.container nav {\r\n  width: 100%;\r\n  display: flex;\r\n  gap: 10%;\r\n}\r\n\r\nnav ul {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\nnav ul li a {\r\n  color: black;\r\n  font-size: large;\r\n  font-weight: 370;\r\n}\r\n\r\nnav ul li a:active {\r\n  color: black;\r\n}\r\n\r\nnav ul li a.active {\r\n  color: azure;\r\n  margin-left: 20px;\r\n}\r\n\r\nmain {\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n\r\nmain .container {\r\n  width: 98%;\r\n  margin: auto;\r\n}\r\n\r\n.total {\r\n  display: flex;\r\n  align-items: center;\r\n  font-weight: 700;\r\n  text-decoration: underline;\r\n}\r\n\r\n#total-movies {\r\n  color: red;\r\n}\r\n\r\n.movies-banners {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 10px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.movie-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding: 0 0 10px 0;\r\n}\r\n\r\n.img-card {\r\n  width: 100%;\r\n}\r\n\r\n.img-card img {\r\n  width: 100%;\r\n}\r\n\r\n.img-description {\r\n  width: 100%;\r\n  background-color: #01acf6;\r\n  padding: 8px 0;\r\n  text-align: center;\r\n}\r\n\r\n.img-description .action {\r\n  display: flex;\r\n  margin: auto;\r\n  justify-content: center;\r\n  width: 80%;\r\n}\r\n\r\nform button {\r\n  width: 30%;\r\n  padding: 10px;\r\n}\r\n\r\n.img-description .action button {\r\n  border: none;\r\n  margin: 0 10px;\r\n  padding: 10px 20px;\r\n}\r\n\r\n#popup-modal {\r\n  width: 50%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: fixed;\r\n  z-index: 9999;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background-color: red;\r\n}\r\n\r\n#popup-modal .img {\r\n  width: 95%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  height: 100vh;\r\n  object-fit: cover;\r\n  position: relative;\r\n  object-position: center;\r\n}\r\n\r\n#popup-modal .img img {\r\n  width: 30%;\r\n  top: 0;\r\n  left: 40%;\r\n  height: 40vh;\r\n  margin: auto;\r\n}\r\n\r\n.movies-details-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.summary {\r\n  margin: auto;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.summary p {\r\n  margin-top: 30px;\r\n}\r\n\r\n.added-comment {\r\n  width: 90%;\r\n  margin: 10px auto;\r\n}\r\n\r\nform {\r\n  width: 50%;\r\n  margin: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\nform input,\r\nform textarea {\r\n  padding: 8px;\r\n}\r\n\r\n#close-btn {\r\n  position: absolute;\r\n  font-weight: 700;\r\n  font-size: 30px;\r\n  cursor: pointer;\r\n  top: 0;\r\n  left: 95%;\r\n}\r\n\r\n.comment-list-style {\r\n  width: 100%;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  column-gap: 20px;\r\n}\r\n\r\n.comment-count {\r\n  width: 80%;\r\n  text-align: center;\r\n  margin: auto;\r\n}\r\n\r\n.comment-count p {\r\n  font-size: 22px;\r\n  font-weight: bold;\r\n}\r\n\r\nfooter {\r\n  width: 100%;\r\n  font-size: 20px;\r\n  padding: 20px 0;\r\n  text-align: center;\r\n  background: black;\r\n  color: azure;\r\n}\r\n",""]);const s=a},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,o,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<n.length;l++){var d=[].concat(n[l]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var i={},a=[],s=0;s<n.length;s++){var c=n[s],l=r.base?c[0]+r.base:c[0],d=i[l]||0,p="".concat(l," ").concat(d);i[l]=d+1;var m=t(p),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)e[m].references++,e[m].updater(u);else{var f=o(u,r);r.byIndex=s,e.splice(s,0,{identifier:p,updater:f,references:1})}a.push(p)}return a}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var i=r(n=n||[],o=o||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var s=t(i[a]);e[s].references--}for(var c=r(n,o),l=0;l<i.length;l++){var d=t(i[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=c}}},569:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},737:(n,e,t)=>{const r=async n=>{try{const e=await fetch(`https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/SpsK74xULIr0Fmgge82L/comments/?item_id=${n}`);if(!e.ok)throw new Error(`Error fetching comments: ${e.status}`);const t=await e.json(),r=document.querySelector(`#comment-list-${n}`);r.innerHTML="",t.forEach((n=>{console.log(n);const e=`\n        <div class="comment">\n          <p>${n.creation_date}, ${n.username} : ${n.comment}</p>\n        </div>`;r.insertAdjacentHTML("beforeend",e)}))}catch(n){console.error("Error retrieving comments:",n)}},o=async n=>{try{const e=await fetch(`https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/SpsK74xULIr0Fmgge82L/comments/?item_id=${n}`);if(!e.ok)throw new Error(`Error fetching comments: ${e.status}`);const t=await e.json();document.querySelector(`#comment-count-${n}`).textContent=t.length}catch(n){console.error("Error retrieving comment count:",n)}},i=async()=>{try{const n=await fetch("https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/SpsK74xULIr0Fmgge82L/likes/");if(!n.ok)throw new Error("Failed to fetch likes data");(await n.json()).forEach((n=>{const{item_id:e,likes:t}=n,r=document.getElementById(`total-likes-${e}`);r&&(r.textContent=t.toString())}))}catch(n){console.error("Error retrieving total likes:",n)}};var a=t(379),s=t.n(a),c=t(795),l=t.n(c),d=t(569),p=t.n(d),m=t(565),u=t.n(m),f=t(216),g=t.n(f),h=t(589),v=t.n(h),y=t(426),b={};b.styleTagTransform=v(),b.setAttributes=u(),b.insert=p().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=g(),s()(y.Z,b),y.Z&&y.Z.locals&&y.Z.locals,document.addEventListener("DOMContentLoaded",(()=>{(()=>{const n=document.querySelector(".movies-banners");fetch("https://api.tvmaze.com/shows?page=2").then((n=>{if(n.ok)return n.json();throw new Error(`Error fetching data: ${n.status}`)})).then((e=>{e.forEach((e=>{const t=`\n          <div class="movie-section">\n            <div class="img-card">\n              <img src="${e.image.medium}" alt="movies image">\n            </div>\n            <div class="img-description">\n              <div class="movies-name">\n                <h3>${e.name}</h3>\n                <div class="action">\n                  <button type="button" data-id="${e.id}" class="comment">Comment</button>\n                  <span>\n                    <i class="fa-regular fa-thumbs-up thumbsUpBtn"></i>\n                    <small class="counter" id="total-likes-${e.id}">0</small>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>`;n.insertAdjacentHTML("beforeend",t)})),document.querySelectorAll(".thumbsUpBtn").forEach((n=>{n.addEventListener("click",(()=>{const e=n.parentElement.parentElement.querySelector(".comment").getAttribute("data-id");fetch("https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/SpsK74xULIr0Fmgge82L/likes/").then((n=>{if(n.ok)return n.json();throw new Error(`Error fetching likes data: ${n.status}`)})).then((n=>{const t=n.find((n=>n.item_id===e)),r=document.getElementById(`total-likes-${e}`),o=t&&t.likes||0;r.textContent=o,fetch("https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/SpsK74xULIr0Fmgge82L/likes/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:e})}).then((n=>{if(!n.ok)throw new Error(`Failed to record like: ${n.status}`);console.log("Like recorded successfully!"),i()})).catch((n=>{console.error("Error recording like:",n)}))})).catch((n=>{console.error("Error retrieving likes data:",n)}))}))})),(n=>{document.querySelectorAll(".comment").forEach((e=>{e.addEventListener("click",(()=>{const t=document.querySelector("#popup-modal"),i=e.getAttribute("data-id"),a=n.find((n=>n.id===parseInt(i,10)));t.innerHTML="";const s=`\n\n\n        <div class="img">\n          <div class="movies-details-section">\n            <img src="${a.image.original}" alt="movies images">\n            <span id="close-btn">&#10005;</span>\n            <div class="summary">\n              <p>\n                Name: ${a.name} &nbsp;&nbsp;&nbsp; Genres: ${a.genres} <br>\n                Country: ${a.network.country.name} &nbsp;&nbsp;&nbsp; Language: ${a.language} <br>\n                Released Date: ${a.premiered} &nbsp;&nbsp;&nbsp; Status: ${a.status}<br>\n              </p>\n            </div>\n          </div>\n          <div class="description">\n            <div class="comment-count">\n              <p>Comment: <span id="comment-count-${i}">0</span> <p>\n            </div>\n            <div class="added-comment">\n              <div class='comment-list-style' id="comment-list-${i}"></div>\n            </div>\n          </div>\n          <div class="comment-section">\n            <form id="form-${i}">\n              <input type="text" name="name" placeholder="Your Name">\n              <textarea name="message" placeholder="Your Insights"></textarea>\n              <button type="submit">Comment</button>\n            </form>\n          </div>\n        </div>`;t.insertAdjacentHTML("beforeend",s),t.style.display="block",document.querySelector("#close-btn").addEventListener("click",(()=>{t.style.display="none"}));const c=document.getElementById(`form-${i}`);c.addEventListener("submit",(n=>{n.preventDefault();const e=new FormData(c),t=e.get("name"),s=e.get("message"),l={item_id:a.id,username:t,comment:s};fetch("https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/SpsK74xULIr0Fmgge82L/comments/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((n=>{if(!n.ok)throw new Error(`Failed to post comment: ${n.status}`);console.log("Comment posted successfully!"),r(i),o(i)})).catch((n=>{console.error("Error posting comment:",n)}))})),r(i),o(i)}))}));const e=(n=>n.length)(n);document.querySelector("#total-movies").textContent=e})(e),i()})).catch((n=>{console.error("Error fetching data:",n)}))})()}))}},n=>{n(n.s=737)}]);